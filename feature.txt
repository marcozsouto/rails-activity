Feature:  user
    As an RAILS ACTIVITY's user
    I want to create, edit a user with username, email, password and password confirmation
    so that user can sign in 

Scenario: create user 
    Given i am at the page create user
    When i fill username 'marcos', email 'marcos@gmail.com', password '123456' and password confirmation '123456' 
    And i click create
    Then i can log in the system with this user

Scenario: edit user 
    Given i am at the user's edit page 
    And i am logged in the system
    When i fill username 'jennie', email 'jennie@gmail.com', password '123456' and password confirmation '123456'
    And i click edit
    Then i can log in the system with this user's data updated


Scenario: create invalid user
    Given i am at the page create user
    When i fill username '', email '', password '' and password confirmation ''
    And i click create
    Then i see a message "username, email and password invalid" 

Scenario: edit password with Password confirmation doesn't match Password
    Given i am at the user's edit page
    And i am logged in the system
    When i fill username 'jennie', email 'jennie@gmail.com', password '123456' and password confirmation '654321'
    And i click in edit
    Then i see a message 'Password confirmation doesn't match Password'